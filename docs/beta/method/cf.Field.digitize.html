
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>cf.Field.digitize &#8212; Documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="cf.Field.unique" href="cf.Field.unique.html" />
    <link rel="prev" title="cf.Field.cumsum" href="cf.Field.cumsum.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><b><a href="../index.html">cf 3.0.2</a></b></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html"><strong>Introduction</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../cf_data_model.html"><strong>CF data model</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html"><strong>Installation</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html"><strong>Tutorial</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_reference.html"><strong>API reference</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../aggregation_rules.html"><strong>Aggregation rules</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../performance.html"><strong>Performance</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html"><strong>Older releases</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../Changelog.html"><strong>Change log</strong></a></li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../api_reference.html"><strong>API reference</strong></a><ul>
  <li><a href="../class.html"><strong>cf classes</strong></a><ul>
  <li><a href="../classes/cf.Field.html">cf.Field</a><ul>
      <li>Previous: <a href="cf.Field.cumsum.html" title="previous chapter">cf.Field.cumsum</a></li>
      <li>Next: <a href="cf.Field.unique.html" title="next chapter">cf.Field.unique</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/method/cf.Field.digitize.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="cf-field-digitize">
<h1>cf.Field.digitize<a class="headerlink" href="#cf-field-digitize" title="Permalink to this headline">¶</a></h1>
<dl class="method">
<dt id="cf.Field.digitize">
<code class="descclassname">Field.</code><code class="descname">digitize</code><span class="sig-paren">(</span><em>bins</em>, <em>upper=False</em>, <em>open_ends=True</em>, <em>inplace=False</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/NCAS-CMS/cf-python/blob/v3.0.2/cf/field.py#L4828"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cf.Field.digitize" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the indices of the bins to which each value belongs.</p>
<p>Masked values result in masked indices in the output field construct.</p>
<p>The output field contruct is given a “long_name” property, and
three extra properties that define the bins:</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">bin_number</span></code></td>
<td>An integer giving the number of bins</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">bin_bounds</span></code></td>
<td>A 1-d array giving the bin bounds. The
first two numbers describe the lower and
upper boundaries of the first bin, the
second two numbers describe the lower and
upper boundaries of the second bin, and so
on. The presence of left-open and
right-open bins is deduced from the
<code class="docutils literal notranslate"><span class="pre">bin_number</span></code> property. If the
<code class="docutils literal notranslate"><span class="pre">bin_bounds</span></code> array has 2N elements then
the <code class="docutils literal notranslate"><span class="pre">bin_number</span></code> property will be N if
there are no left-open and right-open bins
or N+2 if such bins are present. See the
<em>bins</em> and <em>open_ends</em> parameters for more
details.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">bin_interval_type</span></code></td>
<td>A string that specifies the nature of the
bin boundaries, i.e. if they are closed or
open. For example, if the lower boundary is
closed and the upper boundary is open then
<code class="docutils literal notranslate"><span class="pre">bin_interval_type</span></code> will have the value
<code class="docutils literal notranslate"><span class="pre">'lower:</span> <span class="pre">closed</span> <span class="pre">upper:</span> <span class="pre">open'</span></code>.</td>
</tr>
</tbody>
</table>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.0.2.</span></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt>bins: array_like</dt>
<dd><p class="first">The bin boundaries. One of:</p>
<ul class="last">
<li><p class="first">A 1-d array of numbers.</p>
<p>When sorted into a monotonically increasing sequence,
each boundary, with the exception of the two end
boundaries, counts as the upper boundary of one bin and
the lower boundary of next. If the <em>open_ends</em> parameter
is True (which is the default) then the smallest lower
bin boundary also defines a left-open (i.e. not bounded
below) bin, and the largest upper bin boundary also
defines a right-open (i.e. not bounded above) bin.</p>
</li>
<li><p class="first">A 2-d array of numbers.</p>
<p>The second dimension, that must have size 2, contains
the lower and upper bin boundaries. Different bins may
share a boundary, but may not overlap. If the
<em>open_ends</em> parameter is True (which is the default)
then the smallest lower bin boundary also defines a
left-open (i.e. not bounded below) bin, and the largest
upper bin boundary also defines a right-open (i.e. not
bounded above) bin.</p>
</li>
</ul>
</dd>
<dt>upper: <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional</dt>
<dd><p class="first last">If True then each bin includes its upper bound but not its
lower bound. By default the opposite is applied, i.e. each
bin includes its lower bound but not its upper bound.</p>
</dd>
<dt>open_ends: <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional</dt>
<dd><p class="first last">If False then do not create left-open (i.e. not bounded
below) and right-open (i.e. not bounded above) bins from
the lowest lower bin boundary and largest upper bin
boundary respectively. In this case missing data is
inserted for data values that lie in these bins. By
default these bins are created.</p>
</dd>
<dt>inplace: <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional</dt>
<dd><p class="first last">If True then do the operation in-place and return <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><a class="reference internal" href="../classes/cf.Field.html#cf.Field" title="cf.Field"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Field</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></dt>
<dd><p class="first last">The indices of the bins to which each value belongs, or
<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> if the operation was in-place.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p><strong>Examples:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span>
<span class="go">&lt;CF Field: specific_humidity(latitude(5), longitude(8)) 0.001 1&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">properties</span><span class="p">()</span>
<span class="go">{&#39;Conventions&#39;: &#39;CF-1.7&#39;,</span>
<span class="go"> &#39;standard_name&#39;: &#39;specific_humidity&#39;,</span>
<span class="go"> &#39;units&#39;: &#39;0.001 1&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">array</span><span class="p">)</span>
<span class="go">[[  7.  34.   3.  14.  18.  37.  24.  29.]</span>
<span class="go"> [ 23.  36.  45.  62.  46.  73.   6.  66.]</span>
<span class="go"> [110. 131. 124. 146.  87. 103.  57.  11.]</span>
<span class="go"> [ 29.  59.  39.  70.  58.  72.   9.  17.]</span>
<span class="go"> [  6.  36.  19.  35.  18.  37.  34.  13.]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">digitize</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">])</span>                                           
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span>
<span class="go">&lt;CF Field: long_name=Bin indices to which each &#39;specific_humidity&#39; value belongs(latitude(5), longitude(8))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">array</span><span class="p">)</span>
<span class="go">[[1 1 0 1 1 1 1 1]</span>
<span class="go"> [1 1 1 2 1 2 1 2]</span>
<span class="go"> [3 3 3 3 2 3 2 1]</span>
<span class="go"> [1 2 1 2 2 2 1 1]</span>
<span class="go"> [1 1 1 1 1 1 1 1]]    </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">properties</span><span class="p">()</span> 
<span class="go">{&#39;Conventions&#39;: &#39;CF-1.7&#39;,</span>
<span class="go"> &#39;bin_number&#39;: 4,</span>
<span class="go"> &#39;bin_bounds&#39;: array([  4,  50,  50, 100]),</span>
<span class="go"> &#39;bin_interval_type&#39;: &#39;lower: closed upper: open&#39;,</span>
<span class="go"> &#39;long_name&#39;: &quot;Bin indices to which each &#39;specific_humidity&#39; value belongs&quot;}</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">digitize</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="mi">100</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span>
<span class="go">&lt;CF Field: long_name=Bin indices to which each &#39;specific_humidity&#39; value belongs(latitude(5), longitude(8))&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">array</span><span class="p">)</span>
<span class="go">[[-- --  1 -- -- -- -- --]</span>
<span class="go"> [-- --  2  2  2  2 --  2]</span>
<span class="go"> [ 3  3  3  3  2  3  2 --]</span>
<span class="go"> [--  2 --  2  2  2 -- --]</span>
<span class="go"> [-- -- -- -- -- -- -- --]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">properties</span><span class="p">()</span>
<span class="go">{&#39;Conventions&#39;: &#39;CF-1.7&#39;,</span>
<span class="go"> &#39;bin_number&#39;: 4,</span>
<span class="go"> &#39;bin_bounds&#39;: array([  2,   6,  40, 100]),</span>
<span class="go"> &#39;bin_interval_type&#39;: &#39;lower: closed upper: open&#39;,</span>
<span class="go"> &#39;long_name&#39;: &quot;Bin indices to which each &#39;specific_humidity&#39; value belongs&quot;}</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">digitize</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">100</span><span class="p">],</span> <span class="n">upper</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">open_ends</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span>
<span class="go">&lt;CF Field: long_name=Bin indices to which each &#39;specific_humidity&#39; value belongs(latitude(5), longitude(8))&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">array</span><span class="p">)</span>
<span class="go">[[ 1  1  0  1  1  1  1  1]</span>
<span class="go"> [ 1  1  1  2  2  2  0  2]</span>
<span class="go"> [-- -- -- --  2 --  2  1]</span>
<span class="go"> [ 1  2  1  2  2  2  1  1]</span>
<span class="go"> [ 0  1  1  1  1  1  1  1]]   </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">properties</span><span class="p">()</span>
<span class="go">{&#39;Conventions&#39;: &#39;CF-1.7&#39;,</span>
<span class="go"> &#39;project&#39;: &#39;research&#39;,</span>
<span class="go"> &#39;bin_number&#39;: 3,</span>
<span class="go"> &#39;bin_bounds&#39;: array([  2,   6,   6,  45,  45, 100]),</span>
<span class="go"> &#39;bin_interval_type&#39;: &#39;lower: open upper: closed&#39;,</span>
<span class="go"> &#39;long_name&#39;: &quot;Bin indices to which each &#39;specific_humidity&#39; value belongs&quot;}</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="cf.Data.digitize.html#cf.Data.digitize" title="cf.Data.digitize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cf.Data.digitize</span></code></a> more examples.</p>
</dd></dl>

</div>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2019, David Hassell.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/method/cf.Field.digitize.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>